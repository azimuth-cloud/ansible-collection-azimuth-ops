---

# The chart to use
azimuth_apps_operator_chart_repo: https://azimuth-cloud.github.io/azimuth-apps-operator
azimuth_apps_operator_chart_name: azimuth-apps-operator
azimuth_apps_operator_chart_version: 0.1.0-dev.0.main.13

# Release information for the apps operator release
# Use the same namespace as Azimuth by default
azimuth_apps_operator_release_namespace: "{{ azimuth_release_namespace | default('azimuth') }}"
azimuth_apps_operator_release_name: azimuth-apps-operator

# The timeout to wait for apps operator to become ready
azimuth_apps_operator_wait_timeout: 10m

# Custom trust bundle for SSL verification
azimuth_apps_operator_trust_bundle: "{{ system_trust_ca_bundle | default('') }}"

# The values for the release
azimuth_apps_operator_release_defaults:
  # Enable the metrics with the service monitor by default
  metrics:
    enabled: true
  trustBundle: "{{ azimuth_apps_operator_trust_bundle }}"
azimuth_apps_operator_release_overrides: {}
azimuth_apps_operator_release_values: >-
  {{-
    azimuth_apps_operator_release_defaults |
      combine(azimuth_apps_operator_release_overrides, recursive = True)
  }}


#####
# Kubernetes app template definitions
# azimuth-ops currently never removes app templates
#####
# Indicates whether the Zenith-enabled JupyterHub app template should be enabled
azimuth_apps_operator_app_templates_jupyterhub_enabled: true
# The Helm chart to use for the JupyterHub app template
azimuth_apps_operator_app_templates_jupyterhub_chart_name: jupyterhub-azimuth
# The Helm repository to use for the JupyterHub app template
azimuth_apps_operator_app_templates_jupyterhub_chart_repo: https://azimuth-cloud.github.io/azimuth-charts
# The version range to use for the JupyterHub Helm chart
azimuth_apps_operator_app_templates_jupyterhub_version_range: ">=0.0.0"
# Overrides for the label, logo and description from the JupyterHub Helm chart
azimuth_apps_operator_app_templates_jupyterhub_label:
azimuth_apps_operator_app_templates_jupyterhub_logo:
azimuth_apps_operator_app_templates_jupyterhub_description:
# The number of versions to make available for the JupyterHub app template
azimuth_apps_operator_app_templates_jupyterhub_keep_versions: 3
# The sync frequency for the JupyterHub app template (default 24h)
azimuth_apps_operator_app_templates_jupyterhub_sync_frequency: 86400
# Any default values for the JupyterHub app template
azimuth_apps_operator_app_templates_jupyterhub_default_values: {}
# The tenancy-based access controls for the app template
# List of allowed tenancy IDs
azimuth_apps_operator_app_templates_jupyterhub_tenancy_allow_list: "{{ platforms_tenancy_allow_list | default([]) }}"
# List of denied tenancy IDs
azimuth_apps_operator_app_templates_jupyterhub_tenancy_deny_list: "{{ platforms_tenancy_deny_list | default([]) }}"
# Regex pattern to allow tenancies by name
azimuth_apps_operator_app_templates_jupyterhub_tenancy_allow_regex: "{{ platforms_tenancy_allow_regex | default('') }}"
# Regex pattern to block tenancies by name
azimuth_apps_operator_app_templates_jupyterhub_tenancy_deny_regex: "{{ platforms_tenancy_deny_regex | default('') }}"
# The set of key-value annotations to apply to the template
azimuth_apps_operator_app_templates_jupyterhub_annotations:
  acl.azimuth.stackhpc.com/allow-list: "{{ azimuth_apps_operator_app_templates_jupyterhub_tenancy_allow_list | join(',') }}"
  acl.azimuth.stackhpc.com/deny-list: "{{ azimuth_apps_operator_app_templates_jupyterhub_tenancy_deny_list | join(',') }}"
  acl.azimuth.stackhpc.com/allow-regex: "{{ azimuth_apps_operator_app_templates_jupyterhub_tenancy_allow_regex }}"
  acl.azimuth.stackhpc.com/deny-regex: "{{ azimuth_apps_operator_app_templates_jupyterhub_tenancy_deny_regex }}"
# The spec for the JupyterHub app template
azimuth_apps_operator_app_templates_jupyterhub_spec:
  annotations: "{{ azimuth_apps_operator_app_templates_jupyterhub_annotations }}"
  spec: >-
    {{-
      {
        "chart": {
          "repo": azimuth_apps_operator_app_templates_jupyterhub_chart_repo,
          "name": azimuth_apps_operator_app_templates_jupyterhub_chart_name,
        },
        "versionRange": azimuth_apps_operator_app_templates_jupyterhub_version_range,
        "keepVersions": azimuth_apps_operator_app_templates_jupyterhub_keep_versions,
        "syncFrequency": azimuth_apps_operator_app_templates_jupyterhub_sync_frequency,
        "defaultValues": azimuth_apps_operator_app_templates_jupyterhub_default_values,
      } |
        combine(
          { "label": azimuth_apps_operator_app_templates_jupyterhub_label }
          if azimuth_apps_operator_app_templates_jupyterhub_label
          else {}
        ) |
        combine(
          { "logo": azimuth_apps_operator_app_templates_jupyterhub_logo }
          if azimuth_apps_operator_app_templates_jupyterhub_logo
          else {}
        ) |
        combine(
          { "description": azimuth_apps_operator_app_templates_jupyterhub_description }
          if azimuth_apps_operator_app_templates_jupyterhub_description
          else {}
        )
    }}

# Indicates whether the Zenith-enabled DaskHub app template should be enabled
azimuth_apps_operator_app_templates_daskhub_enabled: true
# The Helm chart to use for the DaskHub app template
azimuth_apps_operator_app_templates_daskhub_chart_name: daskhub-azimuth
# The Helm repository to use for the DaskHub app template
azimuth_apps_operator_app_templates_daskhub_chart_repo: https://azimuth-cloud.github.io/azimuth-charts
# The version range to use for the DaskHub Helm chart
azimuth_apps_operator_app_templates_daskhub_version_range: ">=0.0.0"
# Overrides for the label, logo and description from the DaskHub Helm chart
azimuth_apps_operator_app_templates_daskhub_label:
azimuth_apps_operator_app_templates_daskhub_logo:
azimuth_apps_operator_app_templates_daskhub_description:
# The number of versions to make available for the DaskHub app template
azimuth_apps_operator_app_templates_daskhub_keep_versions: 3
# The sync frequency for the DaskHub app template (default 24h)
azimuth_apps_operator_app_templates_daskhub_sync_frequency: 86400
# Any defaultn values for the DaskHub app template
azimuth_apps_operator_app_templates_daskhub_default_values: {}
# The tenancy-based access controls for the app template
# List of allowed tenancy IDs
azimuth_apps_operator_app_templates_daskhub_tenancy_allow_list: "{{ platforms_tenancy_allow_list | default([]) }}"
# List of denied tenancy IDs
azimuth_apps_operator_app_templates_daskhub_tenancy_deny_list: "{{ platforms_tenancy_deny_list | default([]) }}"
# Regex pattern to allow tenancies by name
azimuth_apps_operator_app_templates_daskhub_tenancy_allow_regex: "{{ platforms_tenancy_allow_regex | default('') }}"
# Regex pattern to block tenancies by name
azimuth_apps_operator_app_templates_daskhub_tenancy_deny_regex: "{{ platforms_tenancy_deny_regex | default('') }}"
# The set of key-value annotations to apply to the template
azimuth_apps_operator_app_templates_daskhub_annotations:
  acl.azimuth.stackhpc.com/allow-list: "{{ azimuth_apps_operator_app_templates_daskhub_tenancy_allow_list | join(',') }}"
  acl.azimuth.stackhpc.com/deny-list: "{{ azimuth_apps_operator_app_templates_daskhub_tenancy_deny_list | join(',') }}"
  acl.azimuth.stackhpc.com/allow-regex: "{{ azimuth_apps_operator_app_templates_daskhub_tenancy_allow_regex }}"
  acl.azimuth.stackhpc.com/deny-regex: "{{ azimuth_apps_operator_app_templates_daskhub_tenancy_deny_regex }}"
# The spec for the DaskHub app template
azimuth_apps_operator_app_templates_daskhub_spec:
  annotations: "{{ azimuth_apps_operator_app_templates_daskhub_annotations }}"
  spec: >-
    {{-
      {
        "chart": {
          "repo": azimuth_apps_operator_app_templates_daskhub_chart_repo,
          "name": azimuth_apps_operator_app_templates_daskhub_chart_name,
        },
        "versionRange": azimuth_apps_operator_app_templates_daskhub_version_range,
        "keepVersions": azimuth_apps_operator_app_templates_daskhub_keep_versions,
        "syncFrequency": azimuth_apps_operator_app_templates_daskhub_sync_frequency,
        "defaultValues": azimuth_apps_operator_app_templates_daskhub_default_values,
      } |
        combine(
          { "label": azimuth_apps_operator_app_templates_daskhub_label }
          if azimuth_apps_operator_app_templates_daskhub_label
          else {}
        ) |
        combine(
          { "logo": azimuth_apps_operator_app_templates_daskhub_logo }
          if azimuth_apps_operator_app_templates_daskhub_logo
          else {}
        ) |
        combine(
          { "description": azimuth_apps_operator_app_templates_daskhub_description }
          if azimuth_apps_operator_app_templates_daskhub_description
          else {}
        )
    }}

# Indicates whether the Zenith-enabled kubeflow app template should be enabled
azimuth_apps_operator_app_templates_kubeflow_enabled: true
# The Helm chart to use for the kubeflow app template
azimuth_apps_operator_app_templates_kubeflow_chart_name: kubeflow-azimuth
# The Helm repository to use for the kubeflow app template
azimuth_apps_operator_app_templates_kubeflow_chart_repo: https://azimuth-cloud.github.io/azimuth-charts
# The version range to use for the kubeflow Helm chart
azimuth_apps_operator_app_templates_kubeflow_version_range: ">=0.0.0"
# Overrides for the label, logo and description from the kubeflow Helm chart
azimuth_apps_operator_app_templates_kubeflow_label:
azimuth_apps_operator_app_templates_kubeflow_logo:
azimuth_apps_operator_app_templates_kubeflow_description:
# The number of versions to make available for the kubeflow app template
azimuth_apps_operator_app_templates_kubeflow_keep_versions: 3
# The sync frequency for the kubeflow app template (default 24h)
azimuth_apps_operator_app_templates_kubeflow_sync_frequency: 86400
# Any defaultn values for the kubeflow app template
azimuth_apps_operator_app_templates_kubeflow_default_values: {}
# The tenancy-based access controls for the app template
# List of allowed tenancy IDs
azimuth_apps_operator_app_templates_kubeflow_tenancy_allow_list: "{{ platforms_tenancy_allow_list | default([]) }}"
# List of denied tenancy IDs
azimuth_apps_operator_app_templates_kubeflow_tenancy_deny_list: "{{ platforms_tenancy_deny_list | default([]) }}"
# Regex pattern to allow tenancies by name
azimuth_apps_operator_app_templates_kubeflow_tenancy_allow_regex: "{{ platforms_tenancy_allow_regex | default('') }}"
# Regex pattern to block tenancies by name
azimuth_apps_operator_app_templates_kubeflow_tenancy_deny_regex: "{{ platforms_tenancy_deny_regex | default('') }}"
# The set of key-value annotations to apply to the template
azimuth_apps_operator_app_templates_kubeflow_annotations:
  acl.azimuth.stackhpc.com/allow-list: "{{ azimuth_apps_operator_app_templates_kubeflow_tenancy_allow_list | join(',') }}"
  acl.azimuth.stackhpc.com/deny-list: "{{ azimuth_apps_operator_app_templates_kubeflow_tenancy_deny_list | join(',') }}"
  acl.azimuth.stackhpc.com/allow-regex: "{{ azimuth_apps_operator_app_templates_kubeflow_tenancy_allow_regex }}"
  acl.azimuth.stackhpc.com/deny-regex: "{{ azimuth_apps_operator_app_templates_kubeflow_tenancy_deny_regex }}"
# The spec for the kubeflow app template
azimuth_apps_operator_app_templates_kubeflow_spec:
  annotations: "{{ azimuth_apps_operator_app_templates_kubeflow_annotations }}"
  spec: >-
    {{-
      {
        "chart": {
          "repo": azimuth_apps_operator_app_templates_kubeflow_chart_repo,
          "name": azimuth_apps_operator_app_templates_kubeflow_chart_name,
        },
        "versionRange": azimuth_apps_operator_app_templates_kubeflow_version_range,
        "keepVersions": azimuth_apps_operator_app_templates_kubeflow_keep_versions,
        "syncFrequency": azimuth_apps_operator_app_templates_kubeflow_sync_frequency,
        "defaultValues": azimuth_apps_operator_app_templates_kubeflow_default_values,
      } |
        combine(
          { "label": azimuth_apps_operator_app_templates_kubeflow_label }
          if azimuth_apps_operator_app_templates_kubeflow_label
          else {}
        ) |
        combine(
          { "logo": azimuth_apps_operator_app_templates_kubeflow_logo }
          if azimuth_apps_operator_app_templates_kubeflow_logo
          else {}
        ) |
        combine(
          { "description": azimuth_apps_operator_app_templates_kubeflow_description }
          if azimuth_apps_operator_app_templates_kubeflow_description
          else {}
        )
    }}

# Indicates whether the Zenith-enabled binderhub app template should be enabled
azimuth_apps_operator_app_templates_binderhub_enabled: true
# The Helm chart to use for the binderhub app template
azimuth_apps_operator_app_templates_binderhub_chart_name: binderhub-azimuth
# The Helm repository to use for the binderhub app template
azimuth_apps_operator_app_templates_binderhub_chart_repo: https://azimuth-cloud.github.io/azimuth-charts
# The version range to use for the binderhub Helm chart
azimuth_apps_operator_app_templates_binderhub_version_range: ">=0.0.0"
# Overrides for the label, logo and description from the binderhub Helm chart
azimuth_apps_operator_app_templates_binderhub_label:
azimuth_apps_operator_app_templates_binderhub_logo:
azimuth_apps_operator_app_templates_binderhub_description:
# The number of versions to make available for the binderhub app template
azimuth_apps_operator_app_templates_binderhub_keep_versions: 3
# The sync frequency for the binderhub app template (default 24h)
azimuth_apps_operator_app_templates_binderhub_sync_frequency: 86400
# Indicates whether binderhub should use http or https prefix in redirect urls
azimuth_apps_operator_app_templates_binderhub_use_https_redirects: "{{ ingress_tls_enabled | default(True) }}"
# Any default values for the binderhub app template
azimuth_apps_operator_app_templates_binderhub_default_values:
  binderhub_oauth_use_https: "{{ azimuth_apps_operator_app_templates_binderhub_use_https_redirects }}"
# The tenancy-based access controls for the app template
# List of allowed tenancy IDs
azimuth_apps_operator_app_templates_binderhub_tenancy_allow_list: "{{ platforms_tenancy_allow_list | default([]) }}"
# List of denied tenancy IDs
azimuth_apps_operator_app_templates_binderhub_tenancy_deny_list: "{{ platforms_tenancy_deny_list | default([]) }}"
# Regex pattern to allow tenancies by name
azimuth_apps_operator_app_templates_binderhub_tenancy_allow_regex: "{{ platforms_tenancy_allow_regex | default('') }}"
# Regex pattern to block tenancies by name
azimuth_apps_operator_app_templates_binderhub_tenancy_deny_regex: "{{ platforms_tenancy_deny_regex | default('') }}"
# The set of key-value annotations to apply to the template
azimuth_apps_operator_app_templates_binderhub_annotations:
  acl.azimuth.stackhpc.com/allow-list: "{{ azimuth_apps_operator_app_templates_binderhub_tenancy_allow_list | join(',') }}"
  acl.azimuth.stackhpc.com/deny-list: "{{ azimuth_apps_operator_app_templates_binderhub_tenancy_deny_list | join(',') }}"
  acl.azimuth.stackhpc.com/allow-regex: "{{ azimuth_apps_operator_app_templates_binderhub_tenancy_allow_regex }}"
  acl.azimuth.stackhpc.com/deny-regex: "{{ azimuth_apps_operator_app_templates_binderhub_tenancy_deny_regex }}"
# The spec for the binderhub app template
azimuth_apps_operator_app_templates_binderhub_spec:
  annotations: "{{ azimuth_apps_operator_app_templates_binderhub_annotations }}"
  spec: >-
    {{-
      {
        "chart": {
          "repo": azimuth_apps_operator_app_templates_binderhub_chart_repo,
          "name": azimuth_apps_operator_app_templates_binderhub_chart_name,
        },
        "versionRange": azimuth_apps_operator_app_templates_binderhub_version_range,
        "keepVersions": azimuth_apps_operator_app_templates_binderhub_keep_versions,
        "syncFrequency": azimuth_apps_operator_app_templates_binderhub_sync_frequency,
        "defaultValues": azimuth_apps_operator_app_templates_binderhub_default_values,
      } |
        combine(
          { "label": azimuth_apps_operator_app_templates_binderhub_label }
          if azimuth_apps_operator_app_templates_binderhub_label
          else {}
        ) |
        combine(
          { "logo": azimuth_apps_operator_app_templates_binderhub_logo }
          if azimuth_apps_operator_app_templates_binderhub_logo
          else {}
        ) |
        combine(
          { "description": azimuth_apps_operator_app_templates_binderhub_description }
          if azimuth_apps_operator_app_templates_binderhub_description
          else {}
        )
    }}

# Indicates whether the Zenith-enabled huggingface_llm app template should be enabled
azimuth_apps_operator_app_templates_huggingface_llm_enabled: true
# The Helm chart to use for the huggingface_llm app template
azimuth_apps_operator_app_templates_huggingface_llm_chart_name: azimuth-llm-chat
# The Helm repository to use for the huggingface_llm app template
azimuth_apps_operator_app_templates_huggingface_llm_chart_repo: https://stackhpc.github.io/azimuth-llm
# The version range to use for the huggingface_llm Helm chart
azimuth_apps_operator_app_templates_huggingface_llm_version_range: ">=0.0.0"
# Overrides for the label, logo and description from the huggingface_llm Helm chart
azimuth_apps_operator_app_templates_huggingface_llm_label:
azimuth_apps_operator_app_templates_huggingface_llm_logo: https://huggingface.co/datasets/huggingface/brand-assets/resolve/main/hf-logo.svg
azimuth_apps_operator_app_templates_huggingface_llm_description: |
  A generative AI chatbot service backed by a HuggingFace large language model
  (requires a GPU node group on the target cluster).
# The number of versions to make available for the huggingface_llm app template
azimuth_apps_operator_app_templates_huggingface_llm_keep_versions: 3
# The sync frequency for the huggingface_llm app template (default 24h)
azimuth_apps_operator_app_templates_huggingface_llm_sync_frequency: 86400
# Any default values for the huggingface_llm app template
azimuth_apps_operator_app_templates_huggingface_llm_default_values: {}
# The tenancy-based access controls for the app template
# List of allowed tenancy IDs
azimuth_apps_operator_app_templates_huggingface_llm_tenancy_allow_list: "{{ platforms_tenancy_allow_list | default([]) }}"
# List of denied tenancy IDs
azimuth_apps_operator_app_templates_huggingface_llm_tenancy_deny_list: "{{ platforms_tenancy_deny_list | default([]) }}"
# Regex pattern to allow tenancies by name
azimuth_apps_operator_app_templates_huggingface_llm_tenancy_allow_regex: "{{ platforms_tenancy_allow_regex | default('') }}"
# Regex pattern to block tenancies by name
azimuth_apps_operator_app_templates_huggingface_llm_tenancy_deny_regex: "{{ platforms_tenancy_deny_regex | default('') }}"
# The set of key-value annotations to apply to the template
azimuth_apps_operator_app_templates_huggingface_llm_annotations:
  acl.azimuth.stackhpc.com/allow-list: "{{ azimuth_apps_operator_app_templates_huggingface_llm_tenancy_allow_list | join(',') }}"
  acl.azimuth.stackhpc.com/deny-list: "{{ azimuth_apps_operator_app_templates_huggingface_llm_tenancy_deny_list | join(',') }}"
  acl.azimuth.stackhpc.com/allow-regex: "{{ azimuth_apps_operator_app_templates_huggingface_llm_tenancy_allow_regex }}"
  acl.azimuth.stackhpc.com/deny-regex: "{{ azimuth_apps_operator_app_templates_huggingface_llm_tenancy_deny_regex }}"
# The spec for the huggingface_llm app template
azimuth_apps_operator_app_templates_huggingface_llm_spec:
  annotations: "{{ azimuth_apps_operator_app_templates_huggingface_llm_annotations }}"
  spec: >-
    {{-
      {
        "chart": {
          "repo": azimuth_apps_operator_app_templates_huggingface_llm_chart_repo,
          "name": azimuth_apps_operator_app_templates_huggingface_llm_chart_name,
        },
        "versionRange": azimuth_apps_operator_app_templates_huggingface_llm_version_range,
        "keepVersions": azimuth_apps_operator_app_templates_huggingface_llm_keep_versions,
        "syncFrequency": azimuth_apps_operator_app_templates_huggingface_llm_sync_frequency,
        "defaultValues": azimuth_apps_operator_app_templates_huggingface_llm_default_values,
      } |
        combine(
          { "label": azimuth_apps_operator_app_templates_huggingface_llm_label }
          if azimuth_apps_operator_app_templates_huggingface_llm_label
          else {}
        ) |
        combine(
          { "logo": azimuth_apps_operator_app_templates_huggingface_llm_logo }
          if azimuth_apps_operator_app_templates_huggingface_llm_logo
          else {}
        ) |
        combine(
          { "description": azimuth_apps_operator_app_templates_huggingface_llm_description }
          if azimuth_apps_operator_app_templates_huggingface_llm_description
          else {}
        )
    }}


# Indicates whether the Argo CD app template should be enabled
azimuth_apps_operator_app_templates_argocd_enabled: true
# The Helm chart to use for the argocd app template
azimuth_apps_operator_app_templates_argocd_chart_name: argocd-azimuth
# The Helm repository to use for the argocd app template
azimuth_apps_operator_app_templates_argocd_chart_repo: https://azimuth-cloud.github.io/azimuth-charts
# The version range to use for the argocd Helm chart
azimuth_apps_operator_app_templates_argocd_version_range: ">=0.0.0"
# Overrides for the label, logo and description from the argocd Helm chart
azimuth_apps_operator_app_templates_argocd_label:
azimuth_apps_operator_app_templates_argocd_logo:
azimuth_apps_operator_app_templates_argocd_description:
# The number of versions to make available for the argocd app template
azimuth_apps_operator_app_templates_argocd_keep_versions: 3
# The sync frequency for the argocd app template (default 24h)
azimuth_apps_operator_app_templates_argocd_sync_frequency: 86400
# Any default values for the argocd app template
azimuth_apps_operator_app_templates_argocd_default_values: {}
# The tenancy-based access controls for the app template
# List of allowed tenancy IDs
azimuth_apps_operator_app_templates_argocd_tenancy_allow_list: "{{ platforms_tenancy_allow_list | default([]) }}"
# List of denied tenancy IDs
azimuth_apps_operator_app_templates_argocd_tenancy_deny_list: "{{ platforms_tenancy_deny_list | default([]) }}"
# Regex pattern to allow tenancies by name
azimuth_apps_operator_app_templates_argocd_tenancy_allow_regex: "{{ platforms_tenancy_allow_regex | default('') }}"
# Regex pattern to block tenancies by name
azimuth_apps_operator_app_templates_argocd_tenancy_deny_regex: "{{ platforms_tenancy_deny_regex | default('') }}"
# The set of key-value annotations to apply to the template
azimuth_apps_operator_app_templates_argocd_annotations:
  acl.azimuth.stackhpc.com/allow-list: "{{ azimuth_apps_operator_app_templates_argocd_tenancy_allow_list | join(',') }}"
  acl.azimuth.stackhpc.com/deny-list: "{{ azimuth_apps_operator_app_templates_argocd_tenancy_deny_list | join(',') }}"
  acl.azimuth.stackhpc.com/allow-regex: "{{ azimuth_apps_operator_app_templates_argocd_tenancy_allow_regex }}"
  acl.azimuth.stackhpc.com/deny-regex: "{{ azimuth_apps_operator_app_templates_argocd_tenancy_deny_regex }}"
# The spec for the argocd app template
azimuth_apps_operator_app_templates_argocd_spec:
  annotations: "{{ azimuth_apps_operator_app_templates_argocd_annotations }}"
  spec: >-
    {{-
      {
        "chart": {
          "repo": azimuth_apps_operator_app_templates_argocd_chart_repo,
          "name": azimuth_apps_operator_app_templates_argocd_chart_name,
        },
        "versionRange": azimuth_apps_operator_app_templates_argocd_version_range,
        "keepVersions": azimuth_apps_operator_app_templates_argocd_keep_versions,
        "syncFrequency": azimuth_apps_operator_app_templates_argocd_sync_frequency,
        "defaultValues": azimuth_apps_operator_app_templates_argocd_default_values,
      } |
        combine(
          { "label": azimuth_apps_operator_app_templates_argocd_label }
          if azimuth_apps_operator_app_templates_argocd_label
          else {}
        ) |
        combine(
          { "logo": azimuth_apps_operator_app_templates_argocd_logo }
          if azimuth_apps_operator_app_templates_argocd_logo
          else {}
        ) |
        combine(
          { "description": azimuth_apps_operator_app_templates_argocd_description }
          if azimuth_apps_operator_app_templates_argocd_description
          else {}
        )
    }}

# The default templates
azimuth_apps_operator_app_templates_default: >-
  {{-
    {} |
      combine(
        { "jupyterhub": azimuth_apps_operator_app_templates_jupyterhub_spec }
        if azimuth_apps_operator_app_templates_jupyterhub_enabled
        else {}
      ) |
      combine(
        { "daskhub": azimuth_apps_operator_app_templates_daskhub_spec }
        if azimuth_apps_operator_app_templates_daskhub_enabled
        else {}
      ) |
      combine(
        { "kubeflow": azimuth_apps_operator_app_templates_kubeflow_spec }
        if azimuth_apps_operator_app_templates_kubeflow_enabled
        else {}
      ) |
      combine(
        { "binderhub": azimuth_apps_operator_app_templates_binderhub_spec }
        if azimuth_apps_operator_app_templates_binderhub_enabled
        else {}
      ) |
      combine(
        { "argocd": azimuth_apps_operator_app_templates_argocd_spec }
        if azimuth_apps_operator_app_templates_argocd_enabled
        else {}
      ) |
      combine(
        { "huggingface-llm": azimuth_apps_operator_app_templates_huggingface_llm_spec }
        if azimuth_apps_operator_app_templates_huggingface_llm_enabled
        else {}
      )
  }}
# Allow extra templates to be defined using a separate variable
azimuth_apps_operator_app_templates_extra: {}
# The full list of Kubernetes app templates to install
azimuth_apps_operator_app_templates: >-
  {{-
    azimuth_apps_operator_app_templates_default |
      combine(azimuth_apps_operator_app_templates_extra, recursive = True)
  }}
